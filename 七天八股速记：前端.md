# 第六章：Day6
- 常见类型转换
![image.png](https://gitee.com/Hao1617/typora-pic-bed/raw/master/img/202410140903175.png)

- 跨域
> **定义：**
> 跨域：是由浏览器的同源策略造成的。
> 同源策略,是浏览器对 JavaScript 实施的安全限制，只要协议、域名、端口有任何一个不同，都被当作是不同的域。
> 跨域原理，即是通过各种方式，避开浏览器的安全限制。
> **解决方案：**
> 最初使用jsonp，但是存在问题，使用get请求不安全，携带数据较小，后来使用proxy+nginx代理
> - JSONP：
> ajax 请求受同源策略影响，不允许进行跨域请求，而 script 标签 src 属性中的链接却可以访问跨域的 js 脚本，利用这个特性，服务端不再返回 JSON 格式的数据，而是 返回一段调用某个函数的 js 代码，在 src 中进行了调用，这样实现了跨域。
> - 步骤：
> 1. 去创建一个 script
> 1. script 的 src 属性设置接口地址
> 1. 接口参数，必须要带一个自定义函数名，要不然后台无法返回数据
> 1. 通过定义函数名去接受返回的数据
> ```javascript
> //动态创建 script
> var script = document.createElement('script');
> 
> // 设置回调函数
> function getData(data) {
>     console.log(data);
> }
> 
> //设置 script 的 src 属性，并设置请求地址
> script.src = 'http://localhost:3000/?callback=getData';
> 
> // 让 script 生效
> document.body.appendChild(script);
> ```
> - 缺点：
> JSON支支持get，因为 script 标签只能使用 get 请求； JSONP 需要后端配合返回指定格式的数据。
> - CORS
> CORS：使用额外的 HTTP 头来告诉浏览器 让运行在一个 origin上的Web应用被准许访问来自不同源服务器上的指定的资源。服务器设置对CORS的支持原理：服务器设置Access-Control-Allow-Origin HTTP响应头之后，浏览器将会允许跨域请求
> 
> - 最方便的跨域方案 proxy代理+ Nginx
> nginx是一款极其强大的web服务器，其优点就是轻量级、启动快、高并发。
跨域问题的产生是因为浏览器的同源政策造成的，但是服务器与服务器之间的数据交换是没有这个限制。
> 
> - 反向代理就是采用这种方式，建立一个虚拟的代理服务器来接收 internet 上的链接请求，然后转发给内部网络上的服务器，并将从服务器上得到的结果，返回给 internet 上请求链接的客户端。现在的新项目中nginx几乎是首选，我们用node或者java开发的服务通常都需要经过nginx的反向代理。

## 列举ES6新特性
- let和const
> let：
> let 关键字用于声明一个块级作用域的局部变量。
> 与 var 不同，let 声明的变量不会提升到整个作用域的顶部，且不能在同一作用域内重复声明同一个变量。
> let 允许在声明变量之前引用它们（称为“暂时性死区”），但会抛出错误。
> const：
> const 关键字用于声明一个块级作用域的常量，其值在初始化后不能被重新赋值。
> 常量必须在使用前声明。
> 对于复合类型（如对象和数组），const 阻止的是对变量本身的重新赋值，但不阻止修改对象或数组的内容。

- Promise
> Promise 是一个表示异步操作最终完成或失败的对象。
> 它有三种状态：pending（进行中）、fulfilled（已成功）和rejected（已失败）。
> Promise 允许你链式调用 .then() 方法来处理成功的情况，以及 .catch() 方法来处理错误。
> Promise 还提供了 .finally() 方法，无论 Promise 的最终状态如何，都会执行其中的回调。

- Class
> Class 关键字用于定义类，它是ES6引入的一种语法糖，使得对象的创建和继承更加直观。
> 类允许你定义构造函数（constructor）、方法、访问器属性（getter 和 setter）以及静态方法。
> 类可以继承自其他类，使用 extends 关键字。
> 类中的方法可以通过 super 关键字调用父类中的方法。

- 箭头函数
> 箭头函数提供了一种更简洁的方式来写函数表达式。
> 它们没有自己的 this、arguments、super 或 new.target 绑定。这些函数表达式最适合用于非方法函数，并且它们不能用作构造函数。
>   箭头函数可以省略参数周围的括号、函数体周围的括号和 return 关键字（如果函数体只有一条语句并且需要返回值）。

- 函数参数默认值
> ES6 允许你为函数参数设置默认值。
> 这使得函数在调用时即使省略了某些参数，也能正常运行。
> 默认值是在参数位置从左到右解析的，如果一个参数被赋予了默认值，那么它左边位置的参数都必须被赋予值（显式地或通过默认值）。

- 模板字符串
- 解构赋值
- 展开语法
- 构造数组，调用函数时，将 数组表达式 或 string 在语法层面展开
- 对象属性缩写
- 键名和键值相同
- 函数省略 function
- 模块化
> ES6 引入了模块化（module）的概念，允许你将代码分割成可重用的模块。
> 每个模块都有自己的作用域，并且可以通过 export 关键字导出变量、函数、类等。
> 其他模块可以通过 import 关键字导入这些导出的内容。
> 这些新特性使得JavaScript更加强大和灵活，同时也提高了代码的可读性和可维护性。
